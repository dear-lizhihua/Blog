<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/blog/rss.xml" title="李志华的博客 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/blog/atom.xml" title="李志华的博客 Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-478GETJ8M8","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<script async src="https://hm.baidu.com/hm.js?6cf455aa46dc50a069ab28ba6ecbf4ce"></script><title data-react-helmet="true">在 WebStorm 中熟练地使用 Git | 李志华的博客</title><meta data-react-helmet="true" property="og:url" content="https://dear-lizhihua.github.io/blog/docs//blog/docs/core/version_control/git_gui_webstorm"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="在 WebStorm 中熟练地使用 Git | 李志华的博客"><meta data-react-helmet="true" name="description" content="重要声明"><meta data-react-helmet="true" property="og:description" content="重要声明"><link data-react-helmet="true" rel="shortcut icon" href="/blog/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dear-lizhihua.github.io/blog/docs//blog/docs/core/version_control/git_gui_webstorm"><link data-react-helmet="true" rel="alternate" href="https://dear-lizhihua.github.io/blog/docs//blog/docs/core/version_control/git_gui_webstorm" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dear-lizhihua.github.io/blog/docs//blog/docs/core/version_control/git_gui_webstorm" hreflang="x-default"><link rel="stylesheet" href="/blog/assets/css/styles.1a90c8a2.css">
<link rel="preload" href="/blog/assets/js/runtime~main.59631cfa.js" as="script">
<link rel="preload" href="/blog/assets/js/main.cdfbdb9d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><img src="/blog/img/logo.svg" alt="logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/blog/img/logo.svg" alt="logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">李志华的博客</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/docs">文档</a><a class="navbar__item navbar__link" href="/blog/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="http://netsysd.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>大众光明导航<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/blog/blog/change-log">更新日志</a><a class="navbar__item navbar__link" href="/blog/docs/translations/babel">Babel 文档</a><a class="navbar__item navbar__link" href="/blog/docs/translations/rollup">Rollup 文档</a><a href="https://github.com/dear-lizhihua" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/blog/"><img src="/blog/img/logo.svg" alt="logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/blog/img/logo.svg" alt="logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">李志华的博客</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog/docs">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/blog">博客</a></li><li class="menu__list-item"><a href="http://netsysd.com/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>大众光明导航<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a class="menu__link" href="/blog/blog/change-log">更新日志</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/docs/translations/babel">Babel 文档</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/docs/translations/rollup">Rollup 文档</a></li><li class="menu__list-item"><a href="https://github.com/dear-lizhihua" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">在 WebStorm 中熟练地使用 Git</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="重要声明"></a>重要声明<a class="hash-link" href="#重要声明" title="Direct link to heading">#</a></h2><p><strong>2021.04.20</strong></p><ul><li>重新修改目录结构</li><li>重写 <strong>什么是冲突？冲突的产生原因</strong> 章节</li></ul><p><strong>2018.03.15</strong></p><p>文章写得比较早，最早发表于</p><ul><li><a href="https://mp.weixin.qq.com/s/PhvPwf1BSzxHi8cO6PCdVw" target="_blank" rel="noopener noreferrer">公众号 - 雷尔可视化平台</a></li><li><a href="https://zhuanlan.zhihu.com/p/34580322" target="_blank" rel="noopener noreferrer">知乎 - 雷尔可视化</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="内容提要"></a>内容提要<a class="hash-link" href="#内容提要" title="Direct link to heading">#</a></h2><p>通过 WebStorm 提供的 Git GUI，同等地、方便地实现 Git 命令行。</p><p>主要介绍以下内容：</p><ul><li>git init 初始化（这一步要在命令行操作）</li><li>git remotes 管理（增删改查）</li><li>git clone 检出（约等于以上两步的合成）</li><li>git fetch 拉取远端仓库更新</li><li><strong>冲突产生原因</strong></li><li><strong>git merge 合并分支</strong></li><li><strong>git merge 解决冲突</strong></li><li><strong>git reset --hard 重置到某个 Git 节点</strong></li><li>git add 追踪文件</li><li>git commit 提交文件</li><li>git push 推送文件</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="正文部分"></a>正文部分<a class="hash-link" href="#正文部分" title="Direct link to heading">#</a></h2><p>以下是正文</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="在远端服务创建一个空仓库"></a>在远端服务创建一个空仓库<a class="hash-link" href="#在远端服务创建一个空仓库" title="Direct link to heading">#</a></h2><p>这里我们以 <a href="https://coding.net/" target="_blank" rel="noopener noreferrer">coding.net</a> 这个代码托管网站中演示：</p><ul><li>我们先来创建一个仓库
<img src="https://user-images.githubusercontent.com/15142680/37444141-2824d882-284b-11e8-93d0-92e84c9dbbfd.png" alt="create a repository"></li><li>创建成功，复制远端仓库地址 <a href="https://git.coding.net/dear_lizhihua/repository-demo.git" target="_blank" rel="noopener noreferrer">https://git.coding.net/dear_lizhihua/repository-demo.git</a><img src="https://user-images.githubusercontent.com/15142680/37444143-2867cffc-284b-11e8-8368-b2c5833555b8.png" alt="create a repository"></li></ul><p>那么，如何将项目同步到本地呢？这里我们提供两种方式：</p><ul><li>第一种思路是，创建一个全新项目后，对其 <code>git init</code> 初始化为 git 项目，然后设置远端仓库地址</li><li>第二种思路是，直接 <code>check out</code> 检出 github 仓库到本地目录</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="初始化本地仓库、设置远端仓库地址"></a>初始化本地仓库、设置远端仓库地址<a class="hash-link" href="#初始化本地仓库、设置远端仓库地址" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="方式一"></a>方式一<a class="hash-link" href="#方式一" title="Direct link to heading">#</a></h3><p>在 WebStorm 中，创建一个项目：
<img src="https://user-images.githubusercontent.com/15142680/37444144-28adf6a8-284b-11e8-88e6-d5c4ea1cd536.png" alt="create a project"></p><p>在项目根目录下，执行如下 git 命令：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly git"><pre tabindex="0" class="prism-code language-git codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git init</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="https://user-images.githubusercontent.com/15142680/37444145-28e5e356-284b-11e8-9971-19d97552d849.png" alt="git init">
如果此时看到 WebStorm 中出现 <code>Version Control</code> 工具条，并且项目目录下出现 <code>.git</code> 文件夹，说明我们的项目已经成功初始化为 git 项目
<img src="https://user-images.githubusercontent.com/15142680/37444147-291f63c4-284b-11e8-95ca-e67e5c9f3239.png" alt="git init successful">
<img src="https://user-images.githubusercontent.com/15142680/37444149-295cca5c-284b-11e8-8d4f-a43f641306e4.png" alt="git init successful 2">
这时我们还需要设置远端仓库地址
<img src="https://user-images.githubusercontent.com/15142680/37444150-29997646-284b-11e8-8c75-af2369305d95.png" alt="set remote url">
这里通过图形化界面，对 remotes 进行查询、新增、修改、删除，而且可以设置多个 remote，相当直观 ^_^
<img src="https://user-images.githubusercontent.com/15142680/37444151-29de5e32-284b-11e8-8471-20952b650aaa.png" alt="git remotes">
成功添加远端仓库地址
<img src="https://user-images.githubusercontent.com/15142680/37444153-2a226e7e-284b-11e8-91d1-843ad4915b13.png" alt="define a remote url successful">
其实，对应的 git 命令是</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// 添加</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git remote add origin https://git.coding.net/dear_lizhihua/repository-demo.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// 删除</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git remote remove origin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// 修改 = 删除 + 添加</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git remote remove origin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git remote add origin https://git.coding.net/dear_lizhihua/repository-demo.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// 查询</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git remote -v</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="方式二"></a>方式二<a class="hash-link" href="#方式二" title="Direct link to heading">#</a></h3><p><img src="https://user-images.githubusercontent.com/15142680/37444155-2aa07aa8-284b-11e8-8da7-7df601fc9cd6.png" alt="git check out">
注意，在文件夹下检出时，不能有同名的文件目录存在
<img src="https://user-images.githubusercontent.com/15142680/37444157-2ad9a684-284b-11e8-8073-a1be03269f04.png" alt="git check out">
其实，对应的 git 命令是</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://git.coding.net/dear_lizhihua/repository-demo.git</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="将远端服务创建的仓库分支和分支下的内容同步到本地"></a>将远端服务创建的仓库分支和分支下的内容同步到本地<a class="hash-link" href="#将远端服务创建的仓库分支和分支下的内容同步到本地" title="Direct link to heading">#</a></h2><p>这里，我们将大家熟悉的 git pull，拆分为大家不熟悉的 <code>git fetch</code> 和 <code>git merge</code> 两个命令的合成，其实拆分后的操作，是比较安全稳妥的做法，具体原因我会在下面详细解释（还可以参考 <a href="https://www.oschina.net/translate/git-fetch-and-merge" target="_blank" rel="noopener noreferrer">git 少用 pull 多用 fetch 和 merge(git: fetch and merge, don’t pull)</a> 一文），建议大家尽量通过这种方式</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="更新远端仓库的所有分支"></a>更新远端仓库的所有分支<a class="hash-link" href="#更新远端仓库的所有分支" title="Direct link to heading">#</a></h3><blockquote><p><strong>这里我们解释下为什么不使用 git pull 这种奇怪操作的原因：</strong></p><ol><li>使用 git pull，会在更新完直接 merge。而在两个分支之间有多个文件冲突的情况下，会导致产生一堆待 merge 文件。</li><li>只使用 git fetch 更新远端仓库的所有分支，等于将这种冲突放在 git merge 这一步。这样我就可以等到真正需要的时候，再去解决分支下文件的冲突</li></ol></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="前置准备"></a>前置准备<a class="hash-link" href="#前置准备" title="Direct link to heading">#</a></h3><p>这里我们的远端仓库还是一个空的仓库，为了演示我们需要先在网站页面进行文件操作，以进行更新操作</p><p>勾选<code>启用 README.md 文件初始化仓库</code>，点击<code>快速初始化仓库</code>按钮
<img src="https://user-images.githubusercontent.com/15142680/37444158-2b166f9c-284b-11e8-9301-23706ff83af0.png" alt="create a readme">
成功创建 README.md
<img src="https://user-images.githubusercontent.com/15142680/37444159-2b5457c6-284b-11e8-97f2-12d1c532672c.png" alt="create a readme successful"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="同步远端分支下的内容"></a>同步远端分支下的内容<a class="hash-link" href="#同步远端分支下的内容" title="Direct link to heading">#</a></h3><p>先记住右下角的工具条中的分支
<img src="https://user-images.githubusercontent.com/15142680/37444160-2b902bc0-284b-11e8-8732-0e145005df44.png" alt="git fetch"></p><p>然后，我们进行更新
<img src="https://user-images.githubusercontent.com/15142680/37444161-2bd5856c-284b-11e8-8859-4ec33cc96ba7.png" alt="git fetch"></p><p>奇怪？远端的分支已经出现了，但是文件并没有更新，版本控制里面也没有任何提交记录
<img src="https://user-images.githubusercontent.com/15142680/37444162-2c1244de-284b-11e8-9c9a-7b769bab6d35.png" alt="git fetch fail"></p><p><em>以下这些步骤，只在项目初始化时用到</em>
在第一次更新时，我们还需要将 checkout 到 origin/master 上，然后创建从 origin/master 分支处创建 master 分支
<img src="https://user-images.githubusercontent.com/15142680/37444163-2c50e7ca-284b-11e8-8e84-54faa3c13a86.png" alt="git checkout">
<img src="https://user-images.githubusercontent.com/15142680/37444164-2c94ad48-284b-11e8-9cf4-618e577cbc05.png" alt="git checkout as a new branch">
<img src="https://user-images.githubusercontent.com/15142680/37444165-2cc98d10-284b-11e8-8516-e98d577b97a9.png" alt="git checkout as a new branch">
至此，更新就算成功了</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="更新远端分支的内容后，同步到本地分支"></a>更新远端分支的内容后，同步到本地分支<a class="hash-link" href="#更新远端分支的内容后，同步到本地分支" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="前置准备-1"></a>前置准备<a class="hash-link" href="#前置准备-1" title="Direct link to heading">#</a></h3><p>这里为了演示，我们需要先在网站页面中执行远端分支更新</p><p>点击新建文件，创建一个 .gitignore 文件
<img src="https://user-images.githubusercontent.com/15142680/37444166-2d0141e2-284b-11e8-9985-1fcd7fb327ef.png" alt="create a .gitignore"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="开始同步"></a>开始同步<a class="hash-link" href="#开始同步" title="Direct link to heading">#</a></h3><p>然后，我们执行上一步的 git fetch
<img src="https://user-images.githubusercontent.com/15142680/37444167-2d353150-284b-11e8-9659-b45746263a23.png" alt="git fetch">
更新成功后，执行 merge 操作
<img src="https://user-images.githubusercontent.com/15142680/37444168-2d6b33d6-284b-11e8-9b19-fbf7d0245c62.png" alt="git merge">
merge 完成，成功获取到远端仓库的文件
<img src="https://user-images.githubusercontent.com/15142680/37444169-2da098c8-284b-11e8-9269-c55216b97e78.png" alt="git merge successful"></p><p>其实，对应的 git 命令是</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git fetch origin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git merge origin/master</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="什么是冲突？冲突的产生原因"></a>什么是冲突？冲突的产生原因<a class="hash-link" href="#什么是冲突？冲突的产生原因" title="Direct link to heading">#</a></h2><blockquote><p>此段落于 2021.04.20 重新编写</p></blockquote><ol><li>应当了解，git 是基于文件差异。</li><li>而逐行对比，是 WebStorm Git GUI 或 DiffMerge 等文本对比软件提供的功能。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="场景描述"></a>场景描述<a class="hash-link" href="#场景描述" title="Direct link to heading">#</a></h3><p>我们一般会在 cn 分支下进行翻译，然而有时我们会遇到这样一种情况，<strong>当 translation 分支和 cn 分支都对同一文件做了修改</strong>（这种场景非常常见，因为 translation 分支，同一文件很可能会增删改某一句、符号，而我们对这一句也做了翻译）。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="所谓冲突"></a>所谓冲突<a class="hash-link" href="#所谓冲突" title="Direct link to heading">#</a></h3><p>就是指，当两个分支 A 和 B 都对同一文件 C 产生修改，但又要对这两个分支进行合并。</p><p>这是不是很矛盾。是的，</p><ul><li>到底取分支 A 的文件 C？</li><li>还是取分支 B 的文件 C？</li><li>还是从分支 A 和分支 B 各自取一部分组成新的文件 C？</li></ul><p>当我们合并原先的两个文件内容后的新文件，这时一共存在三个文件。</p><p>注意，与 SVN 不同，这三个文件彼此都不是同一个文件所衍生，而是独立的三个文件。</p><p>接下来，我们用以下一系列图片说明如何解决冲突：</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="模拟冲突"></a>模拟冲突<a class="hash-link" href="#模拟冲突" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="前置准备-2"></a>前置准备<a class="hash-link" href="#前置准备-2" title="Direct link to heading">#</a></h3><p>这里我们以 webpack.js.org 中文仓库为例，translation 分支是英文文档分支，cn 分支是中文文档分支，二者都是从 master 分支中创建。</p><p>将 Local Branches 中的 <code>translation 分支</code> 合并到 <code>cn 分支</code>。
<img src="https://user-images.githubusercontent.com/15142680/37444170-2dde56fe-284b-11e8-8abe-0bf3292d6552.png" alt="git merge origin/translation">
冲突文件的列表
<img src="https://user-images.githubusercontent.com/15142680/37444171-2e1a2abc-284b-11e8-976d-edb7ceed34eb.png" alt="conflict files"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="解决冲突"></a>解决冲突<a class="hash-link" href="#解决冲突" title="Direct link to heading">#</a></h2><p>打开第一个文件，找到冲突的行（红色背景）
<strong>重要说明：中间部分是 <code>未冲突时</code> cn 分支下，<code>此文件所在的 git 节点</code>；左侧是 cn 分支下，从 <code>未冲突的 git 节点</code> 到 <code>此文件最新的 git 节点</code> 的所有 commit 改动；右侧是 en 分支下，从 <code>未冲突的 git 节点</code> 到 <code>此文件最新的 git 节点</code> 的所有 commit 改动。</strong>
<img src="https://user-images.githubusercontent.com/15142680/37444173-2e4f2488-284b-11e8-8f24-d6526e47b8a3.png" alt="conflict line">
重新翻译，将这行的两侧合并（红色背景自动消除）
<img src="https://user-images.githubusercontent.com/15142680/37444176-2e934104-284b-11e8-8c32-74f92d9aa9e5.png" alt="resolve conflict line">
右侧绿色背景的是 translation 分支新增的行，左侧蓝色背景是 cn 分支修改的行，我们通过 accept 将这些行整体合并过来（绿色背景和蓝色背景自动消除）。
<img src="https://user-images.githubusercontent.com/15142680/37444177-2ed24048-284b-11e8-87ac-3eaf79886e41.png" alt="resolve conflict line add and update">
所有的新增、修改、删除全部处理后，出现提示
<img src="https://user-images.githubusercontent.com/15142680/37444178-2f06801a-284b-11e8-8b12-85bdba7eb686.png" alt="resolve all conflicts">
第一个文件从列表中消失，接下来我们逐个合并这些文件
<img src="https://user-images.githubusercontent.com/15142680/37444179-2f3bfe34-284b-11e8-8a40-deb96bbe2891.png" alt="conflict files first removed"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="批量处理冲突"></a>批量处理冲突<a class="hash-link" href="#批量处理冲突" title="Direct link to heading">#</a></h3><p>也可以通过 <code>accept yours</code> 和 <code>accept theirs</code> 批量处理合并
<img src="https://user-images.githubusercontent.com/15142680/37444181-2f7adb72-284b-11e8-8634-ee69b5ddac30.png" alt="batch processing"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="处理完成后，会出现一个新的-git-节点"></a>处理完成后，会出现一个新的 git 节点<a class="hash-link" href="#处理完成后，会出现一个新的-git-节点" title="Direct link to heading">#</a></h3><p><img src="https://user-images.githubusercontent.com/15142680/37444183-2fbd646a-284b-11e8-8317-f8ca07eeb73c.png" alt="a new git node created">
试着 push 一下，会发现提交记录为 <code>Merge branch &#x27;translation&#x27; into cn</code> 的最后一个 git 节点，就是我们合并处理过的那些文件，这里我们暂时不推送到远端仓库的分支，选择 Cancel
<img src="https://user-images.githubusercontent.com/15142680/37444184-2fffe420-284b-11e8-9be1-b8bb21c79c8b.png" alt="git push merge branch"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="出错要用-git-reset---hard"></a>出错要用 git reset --hard<a class="hash-link" href="#出错要用-git-reset---hard" title="Direct link to heading">#</a></h2><p>如果 merge 过程出现问题，不要过分担心，因为我们并没有产生真正推送，远端仓库的分支下暂时还没有我们的提交记录，我们先 git reset 重置到 origin/cn 分支的最后一个 git 节点上
<img src="https://user-images.githubusercontent.com/15142680/37444187-3042eae0-284b-11e8-9013-dca41d1d2a91.png" alt="git reset merge branch">
选择 Hard 模式
<img src="https://user-images.githubusercontent.com/15142680/37444188-307cef10-284b-11e8-860a-cd3e5e047405.png" alt="git reset merge branch hard">
其实，对应的 git 命令是（其中 <code>git_node_hash</code> 部分是你希望重置的 git 节点 hash）</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git reset --hard {{git_node_hash}}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="https://user-images.githubusercontent.com/15142680/37444189-30b5ddc0-284b-11e8-9eec-d895d5773234.png" alt="git reset merge branch successful">
重置成功了，我们可以将上面的合并步骤再重复一次</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="追踪add本地目录中的文件"></a>追踪(add)本地目录中的文件<a class="hash-link" href="#追踪add本地目录中的文件" title="Direct link to heading">#</a></h2><p>这里我们为了便于演示，先创建一个新文件 LICENCE
<img src="https://user-images.githubusercontent.com/15142680/37444190-30f1efb8-284b-11e8-8b72-a1d68456c02f.png" alt="create a license"></p><p>这个文件未被追踪时，是红色文字，我们点击 add 追踪它
<img src="https://user-images.githubusercontent.com/15142680/37444191-312b8480-284b-11e8-9182-495a551367ee.png" alt="git add license">
其实，对应的 git 命令是</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git add LICENCE</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="将本地目录提交commit到远端仓库"></a>将本地目录提交(commit)到远端仓库<a class="hash-link" href="#将本地目录提交commit到远端仓库" title="Direct link to heading">#</a></h2><p>追踪成功后，点击 commit 提交它
<img src="https://user-images.githubusercontent.com/15142680/37444192-315ffcb0-284b-11e8-89eb-e4f70f300ac3.png" alt="git commit"></p><p>填写 message 提交信息 add LICENSE，然后点击 <code>Commit</code> 按钮
<img src="https://user-images.githubusercontent.com/15142680/37444193-31a57d76-284b-11e8-91cd-ad4b0b4429eb.png" alt="git commit add message"></p><p>提交成功
<img src="https://user-images.githubusercontent.com/15142680/37444194-31dba4fa-284b-11e8-9694-ff6ff2dda720.png" alt="git commit successful">
其实，对应的 git 命令是</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git commit -m &#x27;add LICENSE&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="将本地目录推送push到远端仓库"></a>将本地目录推送(push)到远端仓库<a class="hash-link" href="#将本地目录推送push到远端仓库" title="Direct link to heading">#</a></h2><p>点击 <code>Push</code>
<img src="https://user-images.githubusercontent.com/15142680/37444195-3216b220-284b-11e8-8545-c3bfa3fc65b4.png" alt="git push"></p><p>选择分支 <code>Current Branch</code>
<img src="https://user-images.githubusercontent.com/15142680/37444196-3266dcd2-284b-11e8-8dda-b41c236d268d.png" alt="git push select branch"></p><p>push 的信息详细，点击 <code>Push</code> 按钮
<img src="https://user-images.githubusercontent.com/15142680/37444197-32a9b4b2-284b-11e8-85ff-0ec901a0b823.png" alt="git push detail"></p><p>pushing...
<img src="https://user-images.githubusercontent.com/15142680/37444198-32edfdc0-284b-11e8-8097-34a7bff7e19c.png" alt="git push processing"></p><p>push 成功
<img src="https://user-images.githubusercontent.com/15142680/37444200-332c0eb2-284b-11e8-9fc0-bacc95598814.png" alt="git push successful"></p><p>其实，对应的 git 命令是</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git push origin master</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/core/version_control/git_gui_webstorm.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#重要声明" class="table-of-contents__link">重要声明</a></li><li><a href="#内容提要" class="table-of-contents__link">内容提要</a></li><li><a href="#正文部分" class="table-of-contents__link">正文部分</a></li><li><a href="#在远端服务创建一个空仓库" class="table-of-contents__link">在远端服务创建一个空仓库</a></li><li><a href="#初始化本地仓库、设置远端仓库地址" class="table-of-contents__link">初始化本地仓库、设置远端仓库地址</a><ul><li><a href="#方式一" class="table-of-contents__link">方式一</a></li><li><a href="#方式二" class="table-of-contents__link">方式二</a></li></ul></li><li><a href="#将远端服务创建的仓库分支和分支下的内容同步到本地" class="table-of-contents__link">将远端服务创建的仓库分支和分支下的内容同步到本地</a><ul><li><a href="#更新远端仓库的所有分支" class="table-of-contents__link">更新远端仓库的所有分支</a></li><li><a href="#前置准备" class="table-of-contents__link">前置准备</a></li><li><a href="#同步远端分支下的内容" class="table-of-contents__link">同步远端分支下的内容</a></li></ul></li><li><a href="#更新远端分支的内容后，同步到本地分支" class="table-of-contents__link">更新远端分支的内容后，同步到本地分支</a><ul><li><a href="#前置准备-1" class="table-of-contents__link">前置准备</a></li><li><a href="#开始同步" class="table-of-contents__link">开始同步</a></li></ul></li><li><a href="#什么是冲突？冲突的产生原因" class="table-of-contents__link">什么是冲突？冲突的产生原因</a><ul><li><a href="#场景描述" class="table-of-contents__link">场景描述</a></li><li><a href="#所谓冲突" class="table-of-contents__link">所谓冲突</a></li></ul></li><li><a href="#模拟冲突" class="table-of-contents__link">模拟冲突</a><ul><li><a href="#前置准备-2" class="table-of-contents__link">前置准备</a></li></ul></li><li><a href="#解决冲突" class="table-of-contents__link">解决冲突</a><ul><li><a href="#批量处理冲突" class="table-of-contents__link">批量处理冲突</a></li><li><a href="#处理完成后，会出现一个新的-git-节点" class="table-of-contents__link">处理完成后，会出现一个新的 git 节点</a></li></ul></li><li><a href="#出错要用-git-reset---hard" class="table-of-contents__link">出错要用 git reset --hard</a></li><li><a href="#追踪add本地目录中的文件" class="table-of-contents__link">追踪(add)本地目录中的文件</a></li><li><a href="#将本地目录提交commit到远端仓库" class="table-of-contents__link">将本地目录提交(commit)到远端仓库</a></li><li><a href="#将本地目录推送push到远端仓库" class="table-of-contents__link">将本地目录推送(push)到远端仓库</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/docs/">开始</a></li></ul></div><div class="col footer__col"><div class="footer__title">联系反馈</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/dear-lizhihua/blog/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>友好讨论<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/dear-lizhihua" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 李志华</div></div></div></footer></div>
<script src="/blog/assets/js/runtime~main.59631cfa.js"></script>
<script src="/blog/assets/js/main.cdfbdb9d.js"></script>
</body>
</html>